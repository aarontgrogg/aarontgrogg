var sprintf=function(){function e(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function r(e,r){for(var t=[];r>0;t[--r]=e);return t.join("")}var t=function(){return t.cache.hasOwnProperty(arguments[0])||(t.cache[arguments[0]]=t.parse(arguments[0])),t.format.call(null,t.cache[arguments[0]],arguments)};return t.format=function(t,n){var s,a,i,o,u,f,p,c=1,l=t.length,h="",g=[];for(a=0;l>a;a++)if(h=e(t[a]),"string"===h)g.push(t[a]);else if("array"===h){if(o=t[a],o[2])for(s=n[c],i=0;i<o[2].length;i++){if(!s.hasOwnProperty(o[2][i]))throw sprintf('[sprintf] property "%s" does not exist',o[2][i]);s=s[o[2][i]]}else s=o[1]?n[o[1]]:n[c++];if(/[^s]/.test(o[8])&&"number"!=e(s))throw sprintf("[sprintf] expecting number but found %s",e(s));switch(o[8]){case"b":s=s.toString(2);break;case"c":s=String.fromCharCode(s);break;case"d":s=parseInt(s,10);break;case"e":s=o[7]?s.toExponential(o[7]):s.toExponential();break;case"f":s=o[7]?parseFloat(s).toFixed(o[7]):parseFloat(s);break;case"o":s=s.toString(8);break;case"s":s=(s=String(s))&&o[7]?s.substring(0,o[7]):s;break;case"u":s=Math.abs(s);break;case"x":s=s.toString(16);break;case"X":s=s.toString(16).toUpperCase()}s=/[def]/.test(o[8])&&o[3]&&s>=0?"+"+s:s,f=o[4]?"0"==o[4]?"0":o[4].charAt(1):" ",p=o[6]-String(s).length,u=o[6]?r(f,p):"",g.push(o[5]?s+u:u+s)}return g.join("")},t.cache={},t.parse=function(e){for(var r=e,t=[],n=[],s=0;r;){if(null!==(t=/^[^\x25]+/.exec(r)))n.push(t[0]);else if(null!==(t=/^\x25{2}/.exec(r)))n.push("%");else{if(null===(t=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(r)))throw"[sprintf] huh?";if(t[2]){s|=1;var a=[],i=t[2],o=[];if(null===(o=/^([a-z_][a-z_\d]*)/i.exec(i)))throw"[sprintf] huh?";for(a.push(o[1]);""!==(i=i.substring(o[0].length));)if(null!==(o=/^\.([a-z_][a-z_\d]*)/i.exec(i)))a.push(o[1]);else{if(null===(o=/^\[(\d+)\]/.exec(i)))throw"[sprintf] huh?";a.push(o[1])}t[2]=a}else s|=2;if(3===s)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";n.push(t)}r=r.substring(t[0].length)}return n},t}(),vsprintf=function(e,r){return r.unshift(e),sprintf.apply(null,r)};
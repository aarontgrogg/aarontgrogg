var sharing_js_options;if(sharing_js_options&&sharing_js_options.counts)var WPCOMSharing={done_urls:[],get_counts:function(){var e,t,n,i,a;if("undefined"!=typeof WPCOM_sharing_counts)for(e in WPCOM_sharing_counts)if(n=WPCOM_sharing_counts[e],"undefined"==typeof WPCOMSharing.done_urls[n]){t={linkedin:["https://www.linkedin.com/countserv/count/share?format=jsonp&callback=WPCOMSharing.update_linkedin_count&url="+encodeURIComponent(e)],pinterest:[window.location.protocol+"//api.pinterest.com/v1/urls/count.json?callback=WPCOMSharing.update_pinterest_count&url="+encodeURIComponent(e)],facebook:[window.location.protocol+"//graph.facebook.com/?callback=WPCOMSharing.update_facebook_count&ids="+encodeURIComponent(e)]};for(i in t)if(jQuery("a[data-shared=sharing-"+i+"-"+n+"]").length){for(;a=t[i].pop();)jQuery.getScript(a);WPCOMSharing.bump_sharing_count_stat(i)}WPCOMSharing.done_urls[n]=!0}},get_permalink:function(e){return e="https:"===window.location.protocol?e.replace(/^http:\/\//i,"https://"):e.replace(/^https:\/\//i,"http://")},update_facebook_count:function(e){var t,n;if(e)for(t in e)e.hasOwnProperty(t)&&e[t].shares&&(n=WPCOMSharing.get_permalink(t),n in WPCOM_sharing_counts&&WPCOMSharing.inject_share_count("sharing-facebook-"+WPCOM_sharing_counts[n],e[t].shares))},update_linkedin_count:function(e){"undefined"!=typeof e.count&&1*e.count>0&&WPCOMSharing.inject_share_count("sharing-linkedin-"+WPCOM_sharing_counts[e.url],e.count)},update_pinterest_count:function(e){"undefined"!=typeof e.count&&1*e.count>0&&WPCOMSharing.inject_share_count("sharing-pinterest-"+WPCOM_sharing_counts[e.url],e.count)},inject_share_count:function(e,t){var n=jQuery("a[data-shared="+e+"] > span");n.find(".share-count").remove(),n.append('<span class="share-count">'+WPCOMSharing.format_count(t)+"</span>")},format_count:function(e){return 1e3>e?e:e>=1e3&&1e4>e?String(e).substring(0,1)+"K+":"10K+"},bump_sharing_count_stat:function(e){(new Image).src=document.location.protocol+"//pixel.wp.com/g.gif?v=wpcom-no-pv&x_sharing-count-request="+e+"&r="+Math.random()}};!function(e){function t(){var t;"undefined"!=typeof WPCOMSharing&&WPCOMSharing.get_counts(),t=e(".sharedaddy a.sharing-anchor"),t.click(function(){return!1}),e(".sharedaddy a").each(function(){e(this).attr("href")&&-1!==e(this).attr("href").indexOf("share=")&&e(this).attr("href",e(this).attr("href")+"&nb=1")}),t.on("click",function(){var t=e(this),n=t.parents("div:first").find(".inner");n.is(":animated")||!0!==n.data("justSlid")&&(i.slideUp(200),n.css({left:t.position().left+"px",top:t.position().top+t.height()+3+"px"}).slideToggle(200))}),void 0===document.ontouchstart&&t.hover(function(){var t,n=e(this),a=n.parents("div:first").find(".inner");a.is(":animated")||(t=setTimeout(function(){var e,t,r,o,s;i.slideUp(200),a.data("justSlid",!0),a.css({left:n.position().left+"px",top:n.position().top+n.height()+3+"px"}).slideDown(200,function(){n.data("hasoriginal",!0).data("hasitem",!1),setTimeout(function(){a.data("justSlid",!1)},300),a.find(".share-google-plus-1").size()||(a.mouseleave(e).mouseenter(t),n.mouseleave(r).mouseenter(o))}),e=function(){if(n.data("hasitem",!1),n.data("hasoriginal")===!1){var e=setTimeout(s,800);n.data("timer2",e)}},t=function(){n.data("hasitem",!0),clearTimeout(n.data("timer2"))},r=function(){if(n.data("hasoriginal",!1),n.data("hasitem")===!1){var e=setTimeout(s,800);n.data("timer2",e)}},o=function(){n.data("hasoriginal",!0),clearTimeout(n.data("timer2"))},s=function(){return a.data("justSlid",!0),a.slideUp(200,function(){setTimeout(function(){a.data("justSlid",!1)},300)}),n.unbind("mouseleave",r).unbind("mouseenter",o),a.unbind("mouseleave",e).unbind("mouseenter",e),!1}},200),n.data("timer",t))},function(){t.each(function(){clearTimeout(e(this).data("timer"))}),t.data("timer",!1)}),e(document).click(function(){t.each(function(){clearTimeout(e(this).data("timer"))}),t.data("timer",!1),e(".sharedaddy .inner").slideUp()}),e(".sharedaddy ul").each(function(){if("yep"!==e(this).data("has-click-events")){e(this).data("has-click-events","yep");var t=function(t,n){e("body:first").append('<iframe style="position:fixed;top:100;left:100;height:1px;width:1px;border:none;" id="printFrame-'+t+'" name="printFrame-'+t+'" src="'+n+'" onload="frames[\'printFrame-'+t+"'].focus();frames['printFrame-"+t+"'].print();\"></iframe>")};e(this).find("a.share-print").click(function(){var n=e(this).attr("href"),i=function(){if(-1===n.indexOf("#print")){var e=(new Date).getTime();t(e,n)}else print()};return e(this).parents(".sharing-hidden").length>0?e(this).parents(".inner").slideUp(0,function(){i()}):i(),!1}),e(this).find("a.share-press-this").click(function(){var t="";return window.getSelection?t=window.getSelection():document.getSelection?t=document.getSelection():document.selection&&(t=document.selection.createRange().text),t&&e(this).attr("href",e(this).attr("href")+"&sel="+encodeURI(t)),window.open(e(this).attr("href"),"t","toolbar=0,resizable=1,scrollbars=1,status=1,width=720,height=570")||(document.location.href=e(this).attr("href")),!1}),e("a.share-email",this).on("click",function(){var t=e(this).attr("href");return i.is(":visible")?i.slideUp(200):(e(".sharedaddy .inner").slideUp(),e("#sharing_email .response").remove(),e("#sharing_email form").show(),e("#sharing_email form input[type=submit]").removeAttr("disabled"),e("#sharing_email form a.sharing_cancel").show(),"object"==typeof grecaptcha&&"function"==typeof grecaptcha.reset&&grecaptcha.reset(),i.css({left:e(this).offset().left+"px",top:e(this).offset().top+e(this).height()+"px"}).slideDown(200),e("#sharing_email a.sharing_cancel").unbind("click").click(function(){return e("#sharing_email .errors").hide(),i.slideUp(200),e("#sharing_background").fadeOut(),!1}),e("#sharing_email input[type=submit]").unbind("click").click(function(){var n=e(this).parents("form");return e(this).prop("disabled",!0),n.find("a.sharing_cancel").hide(),n.find("img.loading").show(),e("#sharing_email .errors").hide(),e("#sharing_email .error").removeClass("error"),e("#sharing_email input[name=source_email]").share_is_email()||e("#sharing_email input[name=source_email]").addClass("error"),e("#sharing_email input[name=target_email]").share_is_email()||e("#sharing_email input[name=target_email]").addClass("error"),0===e("#sharing_email .error").length?(e.ajax({url:t,type:"POST",data:n.serialize(),success:function(t){n.find("img.loading").hide(),"1"===t||"2"===t||"3"===t?(e("#sharing_email .errors-"+t).show(),n.find("input[type=submit]").removeAttr("disabled"),n.find("a.sharing_cancel").show(),"object"==typeof grecaptcha&&"function"==typeof grecaptcha.reset&&grecaptcha.reset()):(e("#sharing_email form").hide(),i.append(t),e("#sharing_email a.sharing_cancel").click(function(){return i.slideUp(200),e("#sharing_background").fadeOut(),!1}))}}),!1):(n.find("img.loading").hide(),n.find("input[type=submit]").removeAttr("disabled"),n.find("a.sharing_cancel").show(),e("#sharing_email .errors-1").show(),!1)})),!1})}}),e("li.share-email, li.share-custom a.sharing-anchor").addClass("share-service-visible")}var n,i;e.fn.extend({share_is_email:function(){return/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(this.val())}}),n=e(document.body).on("post-load",t),e(document).on("ready",function(){i=e("#sharing_email"),n.append(i),t()})}(jQuery);
!function(t){window.audioshortcode={prep:function(s,i,e,a,o){var n=t("#wp-as-"+s+"-container");if(!n.hasClass("wp-as-prepped")&&(n.addClass("wp-as-prepped"),document.createElement("audio").canPlayType)){var r=t("#wp-as-"+s).get(0);if("undefined"!=typeof r){this[s]=[],this[s].i=0,this[s].files=i,this[s].titles=e,r.volume=a;for(var h={mp3:"mpeg",wav:"wav",ogg:"ogg",oga:"ogg",m4a:"mp4",aac:"mp4",webm:"webm"},p=this[s].files.length-1;p>=0;p--){var c=this[s].files[p].split(".").pop(),l="audio/"+h[c];r.canPlayType(l)||this.remove_track(s,p)}0!==this[s].files.length&&(r.src=this[s].files[0],1<this[s].files.length&&t("#wp-as-"+s+"-controls").show(),r.addEventListener("error",function(){audioshortcode.remove_track(s,audioshortcode[s].i),0<audioshortcode[s].files.length&&(audioshortcode[s].i--,audioshortcode.next_track(s,!1,o))},!1),r.addEventListener("ended",function(){audioshortcode.next_track(s,!1,o)},!1),r.addEventListener("play",function(){var i=audioshortcode[s].i,e=audioshortcode[s].titles;t("#wp-as-"+s+"-playing").text(" "+e[i])},!1),r.addEventListener("pause",function(){t("#wp-as-"+s+"-playing").text("")},!1))}}},remove_track:function(s,i){this[s].files.splice(i,1),this[s].titles.splice(i,1),0===this[s].files.length?(t("#wp-as-"+s+"-container").html(t("#wp-as-"+s+"-nope").html()),t("#wp-as-"+s+"-controls").html("")):1===this[s].files.length&&t("#wp-as-"+s+"-controls").html("")},start_track:function(s,i){var e=t("#wp-as-"+s).get(0);e.src=i,e.load(),e.play()},prev_track:function(s){var i=t("#wp-as-"+s).get(0),e=this[s].files;i.paused||0===this[s].i||(i.pause(),0<this[s].i&&(this[s].i--,this.start_track(s,e[this[s].i])))},next_track:function(s,i,e){var a=t("#wp-as-"+s).get(0),o=this[s].files;(!i||!a.paused&&o.length-1!==this[s].i)&&(a.pause(),o.length-1>this[s].i?(this[s].i++,this.start_track(s,o[this[s].i])):e?(this[s].i=0,this.start_track(s,0)):(this[s].i=0,a.src=o[0],t("#wp-as-"+s+"-playing").text("")))}}}(jQuery);
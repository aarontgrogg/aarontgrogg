!function(e,s){var a,c=function(){s("#safecss").val(a.getSession().getValue())},t=function(){function t(e){switch(e){case"less":var s=ace.require("ace/mode/less").Mode;break;case"sass":var s=ace.require("ace/mode/scss").Mode;break;default:var s=ace.require("ace/mode/css").Mode}a.getSession().setMode(new s)}ace.config.set("modePath",safecssAceSrcPath),ace.config.set("workerPath",safecssAceSrcPath),ace.config.set("themePath",safecssAceSrcPath),a=ace.edit("safecss-ace"),e.safecss_editor=a,a.getSession().setUseWrapMode(!0),a.setShowPrintMargin(!1),a.getSession().setValue(s("#safecss").val()),jQuery.fn.spin&&s("#safecss-container").spin(!1);var i=s("#custom_css_preprocessor");t(i.val()),i.on("change",function(){t(s(this).val())}),s("#safecssform").submit(c)};return s.browser.msie&&parseInt(s.browser.version,10)<=7||null!=navigator.userAgent.match(/iPad/i)?(s("#safecss-container").hide(),s("#safecss").removeClass("hide-if-js"),!1):(s("#safecss-ace, #safecss-container").css("height",Math.max(250,s(window).height()-s("#safecss-container").offset().top-s("#wpadminbar").height())),s(e).load(t),void s("#preview").on("click",c))}(this,jQuery);